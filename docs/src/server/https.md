# Using HTTPS
Humphrey supports serving content over HTTPS, provided that the `tls` feature is compiled in and a certificate is provided.

## Setting up the TLS Certificate
TLS requires a certificate and a private key, which must be supplied to the server. In production, these would be generated by a certificate authority like [Let's Encrypt](https://letsencrypt.org/), but when developing locally, it's often easier to use a self-signed certificate.

The [`mkcert`](https://github.com/FiloSottile/mkcert) command-line tool can be used to generate a trusted certificate for local development.


### Installing `mkcert`
`mkcert` can be installed as follows (or downloaded from the aforementioned link):

**Windows:**
```sh
$ choco install mkcert
```

**MacOS:**
```sh
$ brew install mkcert
```

**Linux:**
```sh
$ sudo apt install libnss3-tools
$ brew install mkcert
```

### Generating the Certificate
Once installed, the `mkcert` certificate authority must be trusted by the operating system, which can be done by running the following command.

```sh
$ mkcert -install
```

Finally, to generate a certificate for local development, run this command, which will create two files, `localhost.pem` and `localhost-key.pem`.

```sh
$ mkcert localhost
```

## Using the Certificate with Humphrey
To provide the certificate to the server, you'll need to include the TLS configuration section in your configuration file as follows:

```conf
tls {
  cert_file "path/to/cert.pem"     # Path to the TLS certificate
  key_file  "path/to/key.pem"      # Path to the TLS key
  force     true                   # Whether to force HTTPS on all requests
}
```